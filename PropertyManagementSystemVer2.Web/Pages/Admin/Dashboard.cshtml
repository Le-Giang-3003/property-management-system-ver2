@page
@model PropertyManagementSystemVer2.Web.Pages.Admin.DashboardModel
@{
    ViewData["Title"] = "Dashboard";
}

<!-- Stats Row -->
<div class="row g-3 mb-4">
    <div class="col-sm-6 col-xl-3">
        <div class="card-stat">
            <div class="icon-box bg-primary bg-opacity-10 text-primary"><i class="bi bi-people-fill"></i></div>
            <div>
                <h3>@Model.Dashboard.TotalUsers</h3>
                <p>Total Users <span class="text-success fw-semibold">(@Model.Dashboard.ActiveUsers active)</span></p>
            </div>
        </div>
    </div>
    @* <div class="col-sm-6 col-xl-3">
        <div class="card-stat">
            <div class="icon-box bg-success bg-opacity-10 text-success"><i class="bi bi-houses-fill"></i></div>
            <div>
                <h3>@Model.Dashboard.TotalProperties</h3>
                <p>Properties <span class="text-warning fw-semibold">(@Model.Dashboard.PendingProperties pending)</span></p>
            </div>
        </div>
    </div>
    <div class="col-sm-6 col-xl-3">
        <div class="card-stat">
            <div class="icon-box bg-info bg-opacity-10 text-info"><i class="bi bi-file-earmark-text-fill"></i></div>
            <div>
                <h3>@Model.Dashboard.ActiveLeases</h3>
                <p>Active Leases <span class="text-muted">(@Model.Dashboard.TotalLandlords landlords)</span></p>
            </div>
        </div>
    </div>
    <div class="col-sm-6 col-xl-3">
        <div class="card-stat">
            <div class="icon-box bg-danger bg-opacity-10 text-danger"><i class="bi bi-exclamation-triangle-fill"></i></div>
            <div>
                <h3>@(Model.Dashboard.OpenDisputes + Model.Dashboard.PendingReports)</h3>
                <p>Open Issues <span class="text-danger fw-semibold">(@Model.Dashboard.OpenDisputes disputes)</span></p>
            </div>
        </div>
    </div> *@
</div>

<div class="row g-3">
    <!-- Quick Actions -->
    @* <div class="col-lg-5">
        <div class="card-panel h-100">
            <div class="card-header-custom">
                <h6><i class="bi bi-lightning-fill text-warning me-1"></i> Quick Actions</h6>
            </div>
            <div class="card-body-custom">
                <div class="d-grid gap-2">
                    <a asp-page="/Admin/Properties/Index" asp-route-status="Pending" class="btn btn-outline-warning btn-sm text-start">
                        <i class="bi bi-clock-history me-2"></i> Pending Properties
                        <span class="badge bg-warning text-dark float-end">@Model.Dashboard.PendingProperties</span>
                    </a>
                    <a asp-page="/Admin/Disputes/Index" asp-route-status="Open" class="btn btn-outline-danger btn-sm text-start">
                        <i class="bi bi-shield-exclamation me-2"></i> Open Disputes
                        <span class="badge bg-danger float-end">@Model.Dashboard.OpenDisputes</span>
                    </a>
                    <a asp-page="/Admin/Reports/Index" asp-route-status="Pending" class="btn btn-outline-info btn-sm text-start">
                        <i class="bi bi-flag-fill me-2"></i> Pending Reports
                        <span class="badge bg-info float-end">@Model.Dashboard.PendingReports</span>
                    </a>
                    <a asp-page="/Admin/Users/Index" class="btn btn-outline-primary btn-sm text-start">
                        <i class="bi bi-people-fill me-2"></i> Manage Users
                        <span class="badge bg-primary float-end">@Model.Dashboard.TotalUsers</span>
                    </a>
                    <a asp-page="/Admin/Config/Index" class="btn btn-outline-secondary btn-sm text-start">
                        <i class="bi bi-gear-fill me-2"></i> System Configuration
                    </a>
                </div>
            </div>
        </div>
    </div> *@

    <!-- Recent Activity -->
    @* <div class="col-lg-7">
        <div class="card-panel h-100">
            <div class="card-header-custom">
                <h6><i class="bi bi-activity text-primary me-1"></i> Recent Activity</h6>
                <a asp-page="/Admin/AuditLogs/Index" class="btn btn-outline-primary btn-xs">View All</a>
            </div>
            <div class="card-body-custom p-0">
                @if (Model.Dashboard.RecentActivities.Any())
                {
                    <div class="list-group list-group-flush">
                        @foreach (var a in Model.Dashboard.RecentActivities.Take(8))
                        {
                            <div class="list-group-item px-3 py-2 border-0 border-bottom">
                                <div class="d-flex justify-content-between align-items-start">
                                    <div style="min-width:0">
                                        <div class="fw-semibold" style="font-size:.82rem">@a.UserName</div>
                                        <div class="text-muted text-truncate-2" style="font-size:.78rem">@a.Description</div>
                                    </div>
                                    <small class="text-muted text-nowrap ms-3" style="font-size:.72rem">@a.CreatedAt.ToString("dd/MM HH:mm")</small>
                                </div>
                            </div>
                        }
                    </div>
                }
                else
                {
                    <div class="text-center text-muted py-4" style="font-size:.85rem">
                        <i class="bi bi-inbox d-block mb-1" style="font-size:2rem"></i>
                        No recent activity
                    </div>
                }
            </div>
        </div>
    </div> *@
</div>